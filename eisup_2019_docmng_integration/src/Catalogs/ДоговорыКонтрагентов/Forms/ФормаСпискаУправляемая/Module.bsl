
&НаКлиенте
Процедура ПриОткрытии(Отказ)
	//
	//ЕстьОтборПоВладельцу = Ложь;

	//Для Каждого ОтборДоговора Из Список.Отбор.Элементы Цикл
	//	
	//	Если ОтборДоговора.ЛевоеЗначение = Новый ПолеКомпоновкиДанных("Владелец") Тогда
	//		ЕстьОтборПоВладельцу = ОтборДоговора.Использование;
	//		Прервать;
	//	КонецЕсли;
	//	
	//КонецЦикла;
	
	//ТолькоПросмотр = НЕ ЕстьОтборПоВладельцу;
	
КонецПроцедуры

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	Если Параметры.Свойство("абс_ОсновнойДоговор") Тогда
		
		ОтборОсновнойВладелец = Список.Отбор.Элементы.Добавить(Тип("ЭлементОтбораКомпоновкиДанных"));
		
		ОтборОсновнойВладелец.ВидСравнения 		= ВидСравненияКомпоновкиДанных.Равно;
		ОтборОсновнойВладелец.ЛевоеЗначение 		= Новый ПолеКомпоновкиДанных("Владелец");
		ОтборОсновнойВладелец.ПравоеЗначение 	= Параметры.абс_ОсновнойДоговор.Владелец;
		
		ОтборОсновнойВладелец.РежимОтображения = РежимОтображенияЭлементаНастройкиКомпоновкиДанных.Недоступный;
		
		ОтборОсновнойВладелец.Использование = Истина;
		
			
		ОтборОсновнойОрганизация = Список.Отбор.Элементы.Добавить(Тип("ЭлементОтбораКомпоновкиДанных"));
		
		ОтборОсновнойОрганизация.ВидСравнения 		= ВидСравненияКомпоновкиДанных.Равно;
		ОтборОсновнойОрганизация.ЛевоеЗначение 		= Новый ПолеКомпоновкиДанных("Организация");
		ОтборОсновнойОрганизация.ПравоеЗначение 	= Параметры.абс_ОсновнойДоговор.Организация;
		
		ОтборОсновнойОрганизация.РежимОтображения = РежимОтображенияЭлементаНастройкиКомпоновкиДанных.Недоступный;
		
		ОтборОсновнойОрганизация.Использование = Истина;
		
		
		ОтборОсновнойДоговор = Список.Отбор.Элементы.Добавить(Тип("ЭлементОтбораКомпоновкиДанных"));
		
		ОтборОсновнойДоговор.ВидСравнения 		= ВидСравненияКомпоновкиДанных.Равно;
		ОтборОсновнойДоговор.ЛевоеЗначение 		= Новый ПолеКомпоновкиДанных("абс_ОсновнойДоговор");
		ОтборОсновнойДоговор.ПравоеЗначение 	= Параметры.абс_ОсновнойДоговор;
		
		ОтборОсновнойДоговор.РежимОтображения = РежимОтображенияЭлементаНастройкиКомпоновкиДанных.Недоступный;
		
		ОтборОсновнойДоговор.Использование = Истина;
		
		ОтборОсновнойЭтоГруппа = Список.Отбор.Элементы.Добавить(Тип("ЭлементОтбораКомпоновкиДанных"));
		
		ОтборОсновнойЭтоГруппа.ВидСравнения 		= ВидСравненияКомпоновкиДанных.Равно;
		ОтборОсновнойЭтоГруппа.ЛевоеЗначение 		= Новый ПолеКомпоновкиДанных("ЭтоГруппа");
		ОтборОсновнойЭтоГруппа.ПравоеЗначение 	= Ложь;
		
		ОтборОсновнойЭтоГруппа.РежимОтображения = РежимОтображенияЭлементаНастройкиКомпоновкиДанных.Недоступный;
		
		ОтборОсновнойЭтоГруппа.Использование = Истина;	
		
		Элементы.Список.Отображение = ОтображениеТаблицы.Список;
		
	КонецЕсли;
//3041	
	Если Параметры.Отбор.Количество()>0 Тогда
		Если  Параметры.Отбор.Свойство("Владелец") Тогда
			ТолькоПросмотр = Ложь;
		Иначе
			ТолькоПросмотр = Истина;
		КонецЕсли;
	Иначе
		ТолькоПросмотр = Истина;
	КонецЕсли;	
	
//3041	

	
	
КонецПроцедуры

